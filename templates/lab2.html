<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="shortcut icon" href="{{url_for('static', filename='rmulogo.png')}}" type="image/jpg">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
 
        button:hover{
            transform: scale(1.1);
        }
        #footer{
          position: absolute;   
          bottom: 0;    
          width: 100%; 
        }
        body{
          position: relative;      
          min-height: 100vh;         
          padding-bottom: 6rem
        }
        @media(max-width:850px){
          #here{
            width:100%;
            margin-left: 2px;
          }  
          #first{
            width: 0%;
          }
        }
    </style>
</head>
<body class="bg-light" onkeydown="showChar(event);">
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <div class="container-fluid p-3">
          <a class="navbar-brand" href="#"><img src="{{url_for('static', filename='rmulogo.png')}}" alt="Avatar Logo" style="width:40px;" class="rounded-pill">ICT LAB ALLOCATATION SYSTEM</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end" id="collapsibleNavbar">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" data-bs-toggle="modal" href="#myModal">Book Slot</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/about">About</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">{{nameOfUser}}</a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="/profile">Profile</a></li>
                  <li><a class="dropdown-item" href="/logout">Logout</a></li>
                </ul>
              </li>    
            </ul>
          </div>
        </div>
    </nav>

    <div class="row">
        <div class="col-1" id="first"></div>
        <div class="col-10">
            <div class="row " id="here">
                <div class="col text-center">
                    <br><br>
                    <div class="card shadow-lg o-hidden border-0"><div class="card-body">
                    <div class="table-responsive">
                    <table class="table table-bordered table-hover">
                        <thead class="table-dark">
                            <tr>
                            <th><h2>LAB 2</h2></th>
                            <th>08:00-08:50</th>
                            <th>08:50-09:40</th>
                            <th>09:40-10:30</th>
                            <th>10:30-11:20</th>
                            <th>11:20-12:10</th>
                            <th>12:10-01:00</th>
                            <th>01:00-01:50</th>
                            <th>01:50-02:40</th>
                            <th>02:40-03:30</th>
                            <th>03:30-04:20</th>
                            </tr>
                        </thead>
                        <tbody>
                          <tr>
                              <th>MONDAY</th>
                              {%for monday in mondays%}
                                {%if monday.initials==none%}
                                  <td>{{monday.courseCode}}
                                    </td>
                                {%else%}
                                  <td><strong>{{monday.courseCode}} <br>
                                    {{monday.initials}}</strong></td>
                                {%endif%}
                              {%endfor%}
             
                              
                              <!--ITERATE THROUGH OBJECT OF SLOTS
                              <td id="cell00" onclick="addToTrail(this.id);"></td>
                              <td id="cell01" onclick="addToTrail(this.id);"></td>
                              <td id="cell02" onclick="addToTrail(this.id);"></td>
                              <td id="cell03" onclick="addToTrail(this.id);"></td>
                              <td id="cell04" onclick="addToTrail(this.id);"></td> -->
                              <!--{%for item in items6%}
                                  <td>
                                  {{item.courseCode}}
                                  {{item.lastName}}
                                  </td>
                              {%endfor%}-->
                          </tr>
                          <tr>
                              <th>TUESDAY</th>
                              {%for tuesday in tuesdays%}
                                {%if tuesday.initials==none%}
                                  <td>{{tuesday.courseCode}}
                                    </td>
                                {%else%}
                                  <td><strong>{{tuesday.courseCode}}
                                    {{tuesday.initials}}</strong></td>
                                {%endif%}
                              {%endfor%}
             
                          </tr>
                          <tr>
                            
                              <th>WEDNESDAY</th>
                              {%for wednesday in wednesdays%}
                                {%if wednesday.initials==none%}
                                  <td>{{wednesday.courseCode}}
                                    </td>
                                {%else%}
                                  <td><strong>{{wednesday.courseCode}}
                                    {{wednesday.initials}}</strong></td>
                                {%endif%}
                              {%endfor%}
             
                          </tr>
                          <tr>

                              <th>THURSDAY</th>
                              {%for thursday in thursdays%}
                                {%if thursday.initials==none%}
                                  <td>{{thursday.courseCode}}
                                    </td>
                                {%else%}
                                  <td><strong>{{thursday.courseCode}}
                                    {{thursday.initials}}</strong></td>
                                {%endif%}
                              {%endfor%}                               
                          </tr>
                          <tr>
                              <th>FRIDAY</th>
                              {%for friday in fridays%}
                                {%if friday.initials==none%}
                                  <td>{{friday.courseCode}}
                                    </td>
                                {%else%}
                                  <td><strong>{{friday.courseCode}}
                                    {{friday.initials}}</strong></td>
                                {%endif%}
                              {%endfor%}                                
                          
                          </tr> 
                      </tbody>
                    </table></div></div></div>
                </div>
            </div>
            <div class="col-1"></div>
        </div>

    </div>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        {% for message in messages %}
          {{ message }}
        {% endfor %}
      {% endif %}
    {% endwith %}     
    <div class="container">
        <ul class="pagination justify-content-center">
            <li class="page-item"><a class="page-link" href="/dashboard">LAB 1</a></li>
            <li class="page-item"><a class="page-link" href="#">LAB 2</a></li>
            </ul>
    </div>
    <!--
    <div id="trail">

    </div> <button id="bookSlot" style="display:none">Book Slot</button> -->
    <hr>
    <div class="container text-center mb-2">
       <p>The RMU ICT lab slots are on a first come first served basis</p>
       <a class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#myModal">Book a Slot!</a>
    </div>
   <!-- The Modal -->
<div class="modal" id="myModal">
   <div class="modal-dialog">
     <div class="modal-content">
 
       <!-- Modal Header -->
       <div class="modal-header">
         <h4 class="modal-title">Book Slot for Lab2</h4>
         <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
       </div>
 
       <!-- Modal body -->
       <div class="modal-body">
        {%if slots!=0%}
           <div class="col text-center">
           <form action="/bookslotlab2" method="post">
               <label for="courseCode">Course Code</label> <br>
               <input class="form-control" type="text" name="courseCode" placeholder="courseCode" id="courseCode" required><br>
               <label for="time">Duration</label><br>
               <select name="time" id="time" required>
               <option value="" hidden>Select time</option>
               <option value="8:00-8:50">8:00-8:50</option>
               <option value="8:50-9:40">8:50-9:40</option>
               <option value="9:40-10:30">9:40-10:30</option>
               <option value="10:30-11:20">10:30-11:20</option>
               <option value="11:20-12:10">11:20-12:10</option>
               <option value="12:10-01:00">12:10-01:00</option>
               <option value="01:00-01:50">01:00-01:50</option>
               <option value="01:50-02:40">01:50-02:40</option>
               <option value="02:40-03:30">02:40-03:30</option>
               <option value="03:30-04:20">03:30-04:20</option>
               </select>
            <br><br><p>Select Day</p>
            <label for="monday">Monday</label>
            <input type="radio" id="monday" value="Monday" name="days"><br>
            <label for="tuesday">Tuesday</label>
            <input type="radio" id="tuesday" value="Tuesday" name="days"><br>
            <label for="wednesday">Wednesday</label>
            <input type="radio" id="wednesday" value="Wednesday" name="days"><br>
            <label for="thursday">Thursday</label>
            <input type="radio" id="thursday" value="Thursday" name="days"><br>
            <label for="friday">Friday</label>
            <input type="radio" id="friday" value="Friday" name="days"><br>
            <button class="btn btn-dark" type="submit">Book</button>
           </form></div>
          {%else%}
           <h2>Application Window Not Open</h2>
         {%endif%}
       </div>
 
       <!-- Modal footer -->
       <!--<div class="modal-footer">
         <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
       </div>-->
 
     </div>
   </div>
 </div>
 
 <div class="container-fluid"  id="footer">
    <div class="row text-center">
        <div class="col-6 border">
            <p>contact us on</p>
            <p class="text-primary">0203222100</p>
        </div>
        <div class="col-6 border">
            <p>Email</p>
            <p class="text-primary">info@rmuict.com</p>
        </div>
    </div> </div>
    <!--
    <script>
        function addToTrail(id){
            let slot = document.getElementById(id);
            if (slot.innerHTML !== '') {
                alert('ALREADY BOOKED')
            } else {
                var trail = document.getElementById("trail");
                trail.innerHTML += id;
                document.getElementById("bookSlot").style.display = 'block';
            }
            
}
    </script> -->
</body>
</html>